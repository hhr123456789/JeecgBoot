# å¯¼å‡ºExcelé—®é¢˜è°ƒè¯•æŒ‡å—

## ðŸ› é—®é¢˜æè¿°

ç”¨æˆ·åé¦ˆï¼š
- **ä»ªè¡¨**: 4ä¸ªä»ªè¡¨ï¼ˆ1-4å·æ³¨å¡‘æœºï¼‰
- **å‚æ•°**: Aç›¸ç”µæµï¼ˆå‚æ•°ç¼–å·1ï¼‰
- **æ—¶é—´èŒƒå›´**: 2025-07-23 00:00:00 è‡³ 2025-07-23 21:51:21
- **æŸ¥è¯¢é—´éš”**: 1ï¼ˆ15åˆ†é’Ÿï¼‰
- **æ˜¾ç¤ºæ¨¡å¼**: 1ï¼ˆç»Ÿä¸€æ˜¾ç¤ºï¼‰

**é—®é¢˜çŽ°è±¡**:
1. å¯¼å‡ºç»“æžœåªåˆ°13:30å°±ç»“æŸäº†ï¼ˆåº”è¯¥åˆ°21:51ï¼‰
2. æ‰€æœ‰æ•°æ®éƒ½æ˜¯ç©ºå€¼ï¼ˆæ˜¾ç¤ºä¸º"-"ï¼‰

## ðŸ” æŽ’æŸ¥æ­¥éª¤

### 1. ç¡®è®¤ä»ªè¡¨ID

é¦–å…ˆéœ€è¦ç¡®è®¤1-4å·æ³¨å¡‘æœºçš„å®žé™…ä»ªè¡¨IDï¼š

```sql
-- æŸ¥è¯¢æ³¨å¡‘æœºçš„ä»ªè¡¨ID
SELECT module_id, module_name, energy_type, isaction, sys_org_code
FROM tb_module 
WHERE module_name LIKE '%æ³¨å¡‘æœº%' 
AND isaction = 'Y'
ORDER BY module_name;
```

**é¢„æœŸç»“æžœ**ï¼š
```
module_id       | module_name | energy_type | isaction | sys_org_code
yj0001_1202     | 1å·æ³¨å¡‘æœº   | 1           | Y        | xxx
yj0001_1203     | 2å·æ³¨å¡‘æœº   | 1           | Y        | xxx
yj0001_1204     | 3å·æ³¨å¡‘æœº   | 1           | Y        | xxx
yj0001_1205     | 4å·æ³¨å¡‘æœº   | 1           | Y        | xxx
```

### 2. æ£€æŸ¥InfluxDBæ•°æ®

ç¡®è®¤InfluxDBä¸­æ˜¯å¦æœ‰å¯¹åº”çš„æ•°æ®ï¼š

```sql
-- è¿žæŽ¥InfluxDB
USE energy_data_202507;

-- æŸ¥è¯¢Aç›¸ç”µæµæ•°æ®ï¼ˆIAå­—æ®µï¼‰
SELECT * FROM hist 
WHERE tagname =~ /^YJ0001_120[2-5]#IA$/ 
AND time >= '2025-07-23T00:00:00Z' 
AND time <= '2025-07-23T13:51:21Z' 
ORDER BY time DESC 
LIMIT 20;

-- æ£€æŸ¥æ•°æ®æ—¶é—´èŒƒå›´
SELECT tagname, MIN(time) as min_time, MAX(time) as max_time, COUNT(*) as count
FROM hist 
WHERE tagname =~ /^YJ0001_120[2-5]#IA$/ 
AND time >= '2025-07-23T00:00:00Z' 
AND time <= '2025-07-23T21:51:21Z' 
GROUP BY tagname;
```

### 3. æ£€æŸ¥æŸ¥è¯¢æŽ¥å£

ä½¿ç”¨ç›¸åŒå‚æ•°è°ƒç”¨æŸ¥è¯¢æŽ¥å£ï¼Œçœ‹æ˜¯å¦èƒ½æ­£å¸¸è¿”å›žæ•°æ®ï¼š

```bash
curl -X POST "http://localhost:8080/energy/monitor/getRealTimeMonitorData" \
-H "Content-Type: application/json" \
-d '{
    "moduleIds": ["yj0001_1202", "yj0001_1203", "yj0001_1204", "yj0001_1205"],
    "parameters": [1],
    "startTime": "2025-07-23 00:00:00",
    "endTime": "2025-07-23 21:51:21",
    "interval": 1,
    "displayMode": 1
}'
```

### 4. æ£€æŸ¥å¯¼å‡ºæŽ¥å£æ—¥å¿—

æŸ¥çœ‹åŽç«¯æ—¥å¿—ä¸­çš„å…³é”®ä¿¡æ¯ï¼š

```bash
# æŸ¥çœ‹å¯¼å‡ºç›¸å…³æ—¥å¿—
tail -f logs/jeecg-boot.log | grep -E "(ðŸ“Š|ðŸ”|âŒ)"
```

**å…³é”®æ—¥å¿—ç‚¹**ï¼š
1. `ðŸ“Š InfluxDBæŸ¥è¯¢ç»“æžœæ•°é‡ï¼šX` - æ˜¯å¦æŸ¥è¯¢åˆ°æ•°æ®
2. `ðŸ“Š æŸ¥è¯¢ç»“æžœç¤ºä¾‹` - æŸ¥è¯¢åˆ°çš„æ•°æ®æ ¼å¼
3. `ðŸ“Š ä»ŽæŸ¥è¯¢ç»“æžœä¸­æå–åˆ°çš„tagnameåˆ—è¡¨` - tagnameæ˜¯å¦æ­£ç¡®
4. `ðŸ“Š è¡¨å¤´æž„å»ºå®Œæˆ` - è¡¨å¤´æ˜¯å¦æ­£ç¡®æž„å»º
5. `ðŸ“Š æ•°æ®æŒ‰æ—¶é—´åˆ†ç»„å®Œæˆ` - æ•°æ®åˆ†ç»„æ˜¯å¦æˆåŠŸ

## ðŸ”§ å¯èƒ½çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### é—®é¢˜1ï¼šä»ªè¡¨IDä¸åŒ¹é…

**ç—‡çŠ¶**ï¼šæŸ¥è¯¢ç»“æžœä¸ºç©º
**åŽŸå› **ï¼šå‰ç«¯ä¼ é€’çš„ä»ªè¡¨IDä¸Žæ•°æ®åº“ä¸­çš„ä¸ä¸€è‡´
**è§£å†³**ï¼šç¡®è®¤æ­£ç¡®çš„ä»ªè¡¨IDæ ¼å¼

### é—®é¢˜2ï¼štagnameæ ¼å¼é”™è¯¯

**ç—‡çŠ¶**ï¼šæŸ¥è¯¢æœ‰ç»“æžœä½†å¯¼å‡ºä¸ºç©º
**åŽŸå› **ï¼šå¯¼å‡ºåŠŸèƒ½ä¸­çš„tagnameæž„å»ºä¸ŽæŸ¥è¯¢ä¸ä¸€è‡´
**è§£å†³**ï¼šç»Ÿä¸€tagnameæž„å»ºé€»è¾‘

### é—®é¢˜3ï¼šæ—¶åŒºè½¬æ¢é—®é¢˜

**ç—‡çŠ¶**ï¼šæ—¶é—´èŒƒå›´ä¸æ­£ç¡®
**åŽŸå› **ï¼šUTCæ—¶é—´è½¬æ¢æœ‰è¯¯
**è§£å†³**ï¼šæ£€æŸ¥æ—¶åŒºè½¬æ¢é€»è¾‘

### é—®é¢˜4ï¼šæ•°æ®åˆ†ç»„é€»è¾‘é”™è¯¯

**ç—‡çŠ¶**ï¼šæœ‰æ•°æ®ä½†Excelä¸­æ˜¾ç¤ºä¸ºç©º
**åŽŸå› **ï¼šæ—¶é—´åˆ†ç»„æˆ–åˆ—æ˜ å°„æœ‰é—®é¢˜
**è§£å†³**ï¼šä¿®å¤æ•°æ®å¤„ç†é€»è¾‘

## ðŸš€ ç«‹å³è¡ŒåŠ¨

1. **æ‰§è¡ŒSQLæŸ¥è¯¢**ï¼šç¡®è®¤ä»ªè¡¨IDå’ŒInfluxDBæ•°æ®
2. **æŸ¥çœ‹åŽç«¯æ—¥å¿—**ï¼šåˆ†æžå¯¼å‡ºè¿‡ç¨‹ä¸­çš„é—®é¢˜
3. **å¯¹æ¯”æŸ¥è¯¢æŽ¥å£**ï¼šç¡®è®¤æ•°æ®æºæ˜¯å¦æ­£å¸¸
4. **ä¿®å¤ä»£ç **ï¼šæ ¹æ®å‘çŽ°çš„é—®é¢˜è¿›è¡Œä¿®å¤

## ðŸ“ è°ƒè¯•æ£€æŸ¥æ¸…å•

- [ ] ç¡®è®¤1-4å·æ³¨å¡‘æœºçš„å®žé™…ä»ªè¡¨ID
- [ ] æ£€æŸ¥InfluxDBä¸­æ˜¯å¦æœ‰å¯¹åº”æ—¶é—´èŒƒå›´çš„æ•°æ®
- [ ] éªŒè¯æŸ¥è¯¢æŽ¥å£æ˜¯å¦æ­£å¸¸è¿”å›žæ•°æ®
- [ ] æŸ¥çœ‹å¯¼å‡ºæŽ¥å£çš„è¯¦ç»†æ—¥å¿—
- [ ] å¯¹æ¯”æŸ¥è¯¢å’Œå¯¼å‡ºçš„tagnameæž„å»ºé€»è¾‘
- [ ] æ£€æŸ¥æ—¶é—´è½¬æ¢å’Œæ•°æ®åˆ†ç»„é€»è¾‘
- [ ] æµ‹è¯•ä¿®å¤åŽçš„å¯¼å‡ºåŠŸèƒ½
