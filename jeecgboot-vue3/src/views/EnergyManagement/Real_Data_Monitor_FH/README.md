# 设备负荷监控页面

## 功能说明

这是一个专门用于电力设备负荷监控的页面，主要功能包括：

1. **维度选择**：通过左侧树形菜单选择不同的维度（部门、线路等）
2. **仪表选择**：根据选中的维度自动加载对应的电力仪表
3. **时间维度**：支持日、月、年三种时间粒度的数据查询
4. **负荷监控**：专门监控有功功率和负荷率两个核心指标
5. **数据可视化**：提供功率趋势图和负荷率趋势图
6. **统计分析**：显示各设备的最大/最小/平均负荷统计数据

## 使用方法

### 1. 选择维度
- 在左侧标签页中选择能源类型（默认为"按部门（用电）"）
- 在树形菜单中选择具体的部门或区域节点

### 2. 选择仪表
- 选择维度后，右上方的仪表下拉框会自动加载对应的电力仪表
- 支持多选仪表，可以同时监控多个设备的负荷情况

### 3. 设置时间范围
- 选择时间粒度：日/月/年
- 选择具体的查询日期、月份或年份

### 4. 查询数据
- 点击"查询"按钮获取负荷数据
- 系统会自动显示有功功率图表、负荷率图表和统计数据表格

## 监控指标说明

### 有功功率 (kW)
- 设备当前的实际功率消耗
- 反映设备的实时用电情况

### 负荷率 (%)
- 当前功率与设备额定功率的比值
- 计算公式：负荷率 = (当前功率 / 额定功率) × 100%
- 反映设备的利用率和运行效率

## API接口

页面使用以下API接口：

1. `/energy/realtime/getModulesByDimension` - 获取仪表列表
2. `/energy/realtime/getLoadTimeSeriesData` - 获取负荷时序数据
3. `/energy/realtime/getCurrentLoadStatus` - 获取实时负荷状态
4. `/energy/realtime/exportLoadData` - 导出负荷数据

## 开发说明

### 文件结构
```
Real_Data_Monitor_FH/
├── index.vue              # 主页面组件
├── api.ts                 # API接口定义
├── components/
│   └── LineChart.vue      # 图表组件
└── README.md              # 说明文档
```

### 主要特性
- 使用Vue 3 Composition API
- 集成ECharts图表库
- 支持响应式布局
- 提供友好的错误处理和加载状态
- 包含模拟数据用于开发测试

### 开发模式
当API接口尚未完成时，页面会自动生成模拟数据用于界面展示和功能测试。

## 注意事项

1. 该页面专门用于电力设备的负荷监控，固定使用参数编码7（有功功率）
2. 需要确保设备在数据库中配置了额定功率，否则无法计算负荷率
3. 时间数据会自动进行时区转换（UTC转北京时间）
4. 支持多设备同时监控，图表会使用不同颜色区分不同设备